<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="打怪升级，游戏人生"><title>node笔记整理之fs和path | SioCheung</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '05229ec683dcdbf3f2336800f1e4a337';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
  </script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">node笔记整理之fs和path</h1><a id="logo" href="/."><span class="defualt">Sio</span><span class="vi-color">Cheung</span></a><p class="description">君子求诸己</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">node笔记整理之fs和path</h1><div class="post-meta">Mar 6, 2018<span> | </span><span class="category"><a href="/categories/node/">node</a></span></div><div class="post-content"><h2 id="FS模块"><a href="#FS模块" class="headerlink" title="FS模块"></a>FS模块</h2><h3 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h3><p><code>fs.open(path, flags[, mode], callback)</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// flags: 文件打开模式，读取为'r'，写入为'w'，追加为'a'</span></span><br><span class="line"><span class="comment">// 读取</span></span><br><span class="line">fs.open(<span class="string">'./readfile.txt'</span>, <span class="string">'r'</span>, (err, fd) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'发生错误: '</span> + err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> buff = Buffer.allocUnsafe(<span class="number">255</span>);</span><br><span class="line">        <span class="comment">// fs.read() @params(文件描述，指定读入的缓存，写入缓存开始位置，写入长度，读取文件开始位置,callback)</span></span><br><span class="line">        <span class="comment">// callback() @params(错误对象，实际长度，被读取缓存的对象)</span></span><br><span class="line">        fs.read(fd, buff, <span class="number">0</span>, <span class="number">28</span>, <span class="number">0</span>, (err, bytesRead, buffer) =&gt; &#123;</span><br><span class="line">            <span class="keyword">let</span> newBuff = buffer.slice(<span class="number">0</span>, bytesRead).toString();</span><br><span class="line">            <span class="built_in">console</span>.log(bytesRead, newBuff);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 写入</span></span><br><span class="line">fs.open(<span class="string">'./writefile.txt'</span>, <span class="string">'a'</span>, (err, fd) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'发生错误: '</span> + err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> buff = Buffer.from(<span class="string">'打开后写入：nodeJs博大精深~\r\n'</span>);</span><br><span class="line">        <span class="comment">// fs.write() @params(文件描述，指定读出的缓存，读取缓存开始位置，读取长度|null默认长度，写入文件开始位置|null上次位置,callback)</span></span><br><span class="line">        <span class="comment">// callback() @params(错误对象，实际长度，被读取缓存的对象)</span></span><br><span class="line">        fs.write(fd, buff, <span class="number">0</span>, <span class="literal">null</span>, <span class="literal">null</span>, (err, written, buffer) =&gt; &#123;</span><br><span class="line">            <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(<span class="string">'写文件失败'</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'写文件成功'</span>, written, buffer);</span><br><span class="line">            fs.fsync(fd, err =&gt; &#123; <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(<span class="string">'fsync错误：'</span> + err) &#125;);</span><br><span class="line">            fs.close(fd, err =&gt; &#123; <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(<span class="string">'close错误：'</span> + err) &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="读写文件"><a href="#读写文件" class="headerlink" title="读写文件"></a>读写文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buff = Buffer.from(<span class="string">'nodejs博大精深'</span>);</span><br><span class="line"><span class="keyword">const</span> addStr = Buffer.from(<span class="string">'\r\n这是追加的内容@#$%'</span>);</span><br><span class="line"><span class="keyword">let</span> options = &#123;</span><br><span class="line">    flag: <span class="string">'a+'</span>,</span><br><span class="line">    encoding: <span class="string">'utf8'</span>,</span><br><span class="line">    mode: <span class="string">'0666'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">fs.readFile(<span class="string">'./readfile.txt'</span>, <span class="string">'utf8'</span>, (err, data) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'发生错误: '</span> + err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'开始读取内容: '</span> + data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fs.writeFile(<span class="string">'./writefile.txt'</span>, addStr, options, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'发生错误: '</span> + err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'写文件成功'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="文件流方式读文件"><a href="#文件流方式读文件" class="headerlink" title="文件流方式读文件"></a>文件流方式读文件</h3><p><code>fs.createReadStream(path,[options])</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * fs.createReadStream(path,[options]) 返回ReadStream对象</span></span><br><span class="line"><span class="comment"> * @params path 指定需要读取完整路径以及文件名</span></span><br><span class="line"><span class="comment"> * @params options [flags,encoding,autoclose,start,end]</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * ReadStream对象</span></span><br><span class="line"><span class="comment"> * @event readable 当可以从流中读取数据时触发</span></span><br><span class="line"><span class="comment"> * @event open 当文件被打开时触发</span></span><br><span class="line"><span class="comment"> * @event data 当读取到新的数据时触发 参数为存放已读取到的数据缓存区对象或者字符串</span></span><br><span class="line"><span class="comment"> * @event end  当读取完所有数据时触发 此时data事件不再被触发</span></span><br><span class="line"><span class="comment"> * @event error 当读取数据过程中出现错误时触发</span></span><br><span class="line"><span class="comment"> * @event close 当用于读取流数据的对象被关闭时触发</span></span><br><span class="line"><span class="comment"> * @method read 用于读取数据</span></span><br><span class="line"><span class="comment"> * @method setEncoding 指定用何种编码读取数据</span></span><br><span class="line"><span class="comment"> * @method pause 通知对象停止data事件触发</span></span><br><span class="line"><span class="comment"> * @method resume 通知对象恢复触发data事件</span></span><br><span class="line"><span class="comment"> * @method pipe 设置数据通道，取出所有流数据传输给通道另一端对象</span></span><br><span class="line"><span class="comment"> * @method unpipe 取消pipe方法设置的通道</span></span><br><span class="line"><span class="comment"> * @method unshift 取消解析器绑定 流数据采用其他方式解析</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> rfile = fs.createReadStream(<span class="string">'./writefile.txt'</span>, &#123; <span class="attr">start</span>: <span class="number">0</span>, <span class="attr">end</span>: <span class="number">20</span> &#125;);</span><br><span class="line">rfile.pause();</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    rfile.resume();</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line">rfile.resume();</span><br><span class="line">rfile.on(<span class="string">'open'</span>, fd =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'开始读取文件'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">rfile.on(<span class="string">'data'</span>, data =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'读取到数据：'</span> + data);</span><br><span class="line">&#125;);</span><br><span class="line">rfile.on(<span class="string">'end'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'文件全部读取完毕'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">rfile.on(<span class="string">'close'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'文件被关闭'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">rfile.on(<span class="string">'error'</span>, err =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'读取文件失败'</span> + err);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="文件流方式写文件"><a href="#文件流方式写文件" class="headerlink" title="文件流方式写文件"></a>文件流方式写文件</h3><p><code>fs.createWriteStream(path,[options])</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * fs.createWriteStream(path,[options]) 返回WriteStream对象</span></span><br><span class="line"><span class="comment"> * @params path 指定需要写入的完整路径以及文件名</span></span><br><span class="line"><span class="comment"> * @params options [flags,encoding,start]</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * WriteStream对象</span></span><br><span class="line"><span class="comment"> * @event drain 操作系统缓存区中的数据已全部输出到目标对象中，可以继续向前者写入数据</span></span><br><span class="line"><span class="comment"> * @event finish end方法被调用且数据被全部写入操作系统缓存区时候触发</span></span><br><span class="line"><span class="comment"> * @event pipe  读取数据的对象的pipe方法被触发时候</span></span><br><span class="line"><span class="comment"> * @event unpipe 读取数据的对象的unpipe方法被触发时候</span></span><br><span class="line"><span class="comment"> * @event error 当读取数据过程中发生错误</span></span><br><span class="line"><span class="comment"> * @method write(chunk,[encoding],[callback]) 用于写入数据 </span></span><br><span class="line"><span class="comment"> * * * * * @params chunk 要写入的的数据 Buffer或String</span></span><br><span class="line"><span class="comment"> * * * * * @params encoding 指定编码写入</span></span><br><span class="line"><span class="comment"> * * * * * @params callback 写入完毕回调 无参数</span></span><br><span class="line"><span class="comment"> * * * * * @return 表示操作系统缓存是否未满 还可以写入数据</span></span><br><span class="line"><span class="comment"> * @method end 当没有数据再被写入流中调用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> writable = fs.createWriteStream(<span class="string">'./writefile.txt'</span>, &#123; <span class="attr">flags</span>: <span class="string">'a'</span>, <span class="attr">encoding</span>: <span class="string">'utf8'</span> &#125;);</span><br><span class="line"><span class="keyword">let</span> flag = writable.write(<span class="string">'create node stream txt\r\n'</span>, <span class="string">'utf8'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'write写入成功'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(flag); <span class="comment">//true || false</span></span><br></pre></td></tr></table></figure></p>
<h3 id="图片文件读写"><a href="#图片文件读写" class="headerlink" title="图片文件读写"></a>图片文件读写</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fs.readFile(<span class="string">'./sample.png'</span>, <span class="string">'base64'</span>, (err, data) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'读文件发生错误: '</span> + err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fs.writeFile(<span class="string">'./copy.jpg'</span>, data.toString(), <span class="string">'base64'</span>, (err) =&gt; &#123;</span><br><span class="line">            <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'写文件发生错误: '</span> + err);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'写文件成功'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="创建并读取目录"><a href="#创建并读取目录" class="headerlink" title="创建并读取目录"></a>创建并读取目录</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.mkdir(path,[mode],callback) callback @params(错误对象)</span></span><br><span class="line"><span class="comment"> * fs.readdir(path,callback) callback @params(错误对象, 所有文件名)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.mkdir(<span class="string">'./test/childfile'</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(err);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'创建目录成功'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">fs.readdir(<span class="string">'./'</span>, (err, files) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="built_in">console</span>.log(err);</span><br><span class="line">    <span class="built_in">console</span>.log(files);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="查看文件目录信息"><a href="#查看文件目录信息" class="headerlink" title="查看文件目录信息"></a>查看文件目录信息</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.stat(path,callback) &amp; fs.lstat(path,callback) </span></span><br><span class="line"><span class="comment"> * callback @params(错误对象, fs.Stats对象)</span></span><br><span class="line"><span class="comment"> * fs.Stats对象 </span></span><br><span class="line"><span class="comment"> * @methods isFile() 是否是文件</span></span><br><span class="line"><span class="comment"> * @methods isDirectory() 是否是目录</span></span><br><span class="line"><span class="comment"> * @methods isSymbolicLink() 是否是符号链接</span></span><br><span class="line"><span class="comment"> * @property mode 数字形式权限表示</span></span><br><span class="line"><span class="comment"> * @property nlink 硬链接数量</span></span><br><span class="line"><span class="comment"> * @property size 文件大小</span></span><br><span class="line"><span class="comment"> * @property atime 访问时间</span></span><br><span class="line"><span class="comment"> * @property mtime 修改时间</span></span><br><span class="line"><span class="comment"> * @property ctime 创建时间</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.stat(<span class="string">'./test'</span>, (err, stats) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (!err) <span class="built_in">console</span>.log(stats);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="检查文件目录是否存在"><a href="#检查文件目录是否存在" class="headerlink" title="检查文件目录是否存在"></a>检查文件目录是否存在</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fs.exists(<span class="string">'./message'</span>, exists =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(exists);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="获取文件目录绝对路径"><a href="#获取文件目录绝对路径" class="headerlink" title="获取文件目录绝对路径"></a>获取文件目录绝对路径</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.realpath(path,[cache],callback)</span></span><br><span class="line"><span class="comment"> * @params path 要查看文件目录的完整路径</span></span><br><span class="line"><span class="comment"> * @params cache 预先指定的路径</span></span><br><span class="line"><span class="comment"> * callback @params err错误对象</span></span><br><span class="line"><span class="comment"> * callback @params resolvePath文件或者目录的绝对路径</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.realpath(<span class="string">'./test/childfile'</span>, (err, resolvePath) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(resolvePath);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="修改文件目录访问修改时间"><a href="#修改文件目录访问修改时间" class="headerlink" title="修改文件目录访问修改时间"></a>修改文件目录访问修改时间</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.utimes(path,atime,mtime,callback)</span></span><br><span class="line"><span class="comment"> * fs.futimes(fd,atime,mtime,callback)</span></span><br><span class="line"><span class="comment"> * @params atime 指定修改后的访问时间</span></span><br><span class="line"><span class="comment"> * @params mtime 指定修改后的修改时间</span></span><br><span class="line"><span class="comment"> * @params fd 使用open方法打开后返回的文件描述</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.utimes(<span class="string">'./test/childfile'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(), <span class="keyword">new</span> <span class="built_in">Date</span>(), err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'修改文件时间成功~'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="修改文件目录的访问权限"><a href="#修改文件目录的访问权限" class="headerlink" title="修改文件目录的访问权限"></a>修改文件目录的访问权限</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.chmod(path,mode,callback)</span></span><br><span class="line"><span class="comment"> * fs.chmod(fd,mode,callback)</span></span><br><span class="line"><span class="comment"> * @params mode 数字形式的权限表示法</span></span><br><span class="line"><span class="comment"> * @params fd 使用open方法打开后返回的文件描述</span></span><br><span class="line"><span class="comment"> * callback @params err 错误对象</span></span><br><span class="line"><span class="comment"> * 0+ r=4 w=2 x=1 </span></span><br><span class="line"><span class="comment"> * user group other</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.chmod(<span class="string">'./test'</span>, <span class="number">0740</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'文件权限修改成功!'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="移动文件、目录"><a href="#移动文件、目录" class="headerlink" title="移动文件、目录"></a>移动文件、目录</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.rename(oldpath,newpath,callback)</span></span><br><span class="line"><span class="comment"> * callback @params err 错误对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.rename(<span class="string">'./readfile.txt'</span>, <span class="string">'./test/childfile/newfile.txt'</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'移动失败'</span> + err);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'移动文件成功'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="截断文件、修改文件大小"><a href="#截断文件、修改文件大小" class="headerlink" title="截断文件、修改文件大小"></a>截断文件、修改文件大小</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.truncate(filename,len,callback)</span></span><br><span class="line"><span class="comment"> * fs.truncate(fd,len,callback)</span></span><br><span class="line"><span class="comment"> * @params filename 被截断的完整路径文件名</span></span><br><span class="line"><span class="comment"> * @params len 截断后的文件尺寸（字节）</span></span><br><span class="line"><span class="comment"> * @params fd open方法打开返回的文件描述</span></span><br><span class="line"><span class="comment"> * callback @params err 错误对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.truncate(<span class="string">'./truncate.txt'</span>, <span class="number">30</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    fs.stat(<span class="string">'./truncate.txt'</span>, (err, stats) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">        <span class="built_in">console</span>.log(stats.size);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="删除空目录"><a href="#删除空目录" class="headerlink" title="删除空目录"></a>删除空目录</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *  fs.rmdir(path,callback)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.rmdir(<span class="string">'./rmdir'</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'删除目录成功'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="监视文件、目录-取消监视"><a href="#监视文件、目录-取消监视" class="headerlink" title="监视文件、目录 取消监视"></a>监视文件、目录 取消监视</h3><p>监视 <code>fs.watchFile(filename,[options],listener)</code><br>监视 <code>fs.watch(filename,[options],callback)</code><br>取消监视 <code>fs.unwatchFile(filename,[listener])</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.watchFile(filename,[options],listener)</span></span><br><span class="line"><span class="comment"> * fs.unwatchFile(filename,[listener])</span></span><br><span class="line"><span class="comment"> * @params filename 监听文件的完整目录文件名</span></span><br><span class="line"><span class="comment"> * @params listener 监听的文件发生改变执行的回调，同一文件可监听多个回调</span></span><br><span class="line"><span class="comment"> * @params [listener] 取消监听的文件执行的某一回调</span></span><br><span class="line"><span class="comment"> * options [Object] @property persistent 表明当文件正在被监视时，进程是否应该继续运行</span></span><br><span class="line"><span class="comment"> * options [Object] @property interval 表示目标应该每隔多少毫秒被轮询</span></span><br><span class="line"><span class="comment"> * listener @params curr 修改后的文件fs.Stats对象</span></span><br><span class="line"><span class="comment"> * listener @params prev 修改前的文件fs.Stats对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.watchFile(<span class="string">'./readfile.txt'</span>, (curr, prev) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Date</span>.parse(prev.ctime) === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'文件被创建~'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">Date</span>.parse(curr.ctime) === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'文件被删除~'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">Date</span>.parse(curr.mtime) !== <span class="built_in">Date</span>.parse(prev.mtime)) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'文件被修改'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听另一方法</span></span><br><span class="line"><span class="comment">// fs.watch(filename,[options],callback)</span></span><br><span class="line"><span class="comment">// callback(event,filename)</span></span><br><span class="line"><span class="comment">// @params event = 'rename' 移动删除重命名 || 'change'内容改动</span></span><br><span class="line"><span class="comment">// @params filename 指定目录中发生改动的文件完整路径以及文件名</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> watcher = fs.watch(<span class="string">'./test/'</span>, (event, filename) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(event, filename);</span><br><span class="line">&#125;);</span><br><span class="line">watcher.close(); <span class="comment">//停止监听</span></span><br></pre></td></tr></table></figure>
<h3 id="创建删除文件-硬链接-不同文件名指向同一文件"><a href="#创建删除文件-硬链接-不同文件名指向同一文件" class="headerlink" title="创建删除文件[硬链接] 不同文件名指向同一文件"></a>创建删除文件[硬链接] 不同文件名指向同一文件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.link(srcpath,distpath,callback)</span></span><br><span class="line"><span class="comment"> * fs.unlink(path,callback)</span></span><br><span class="line"><span class="comment"> * @params srcpath 创建硬链接源</span></span><br><span class="line"><span class="comment"> * @params distpath 创建硬链接目标</span></span><br><span class="line"><span class="comment"> * callback @params err 错误对象</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.link(<span class="string">'./writefile.txt'</span>, <span class="string">'./test/childfile/link2.txt'</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'创建硬链接成功'</span>);</span><br><span class="line">&#125;);</span><br><span class="line">fs.unlink(<span class="string">'./symlink'</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'删除硬链接成功'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="创建查看-符号链接-创建替身-打开符号链接自动指向源"><a href="#创建查看-符号链接-创建替身-打开符号链接自动指向源" class="headerlink" title="创建查看[符号链接] 创建替身 打开符号链接自动指向源"></a>创建查看[符号链接] 创建替身 打开符号链接自动指向源</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.symlink(srcpath,distpath,[type],callback)</span></span><br><span class="line"><span class="comment"> * @params type 默认file [,dir]创建类型</span></span><br><span class="line"><span class="comment"> * @params srcpath 创建符号链接源</span></span><br><span class="line"><span class="comment"> * @params distpath 创建符号链接源</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.symlink(<span class="string">'./test'</span>, <span class="string">'./symlink'</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'创建符号链接成功'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="读取符号链接中包含另一个文件的目录、文件名"><a href="#读取符号链接中包含另一个文件的目录、文件名" class="headerlink" title="读取符号链接中包含另一个文件的目录、文件名"></a>读取符号链接中包含另一个文件的目录、文件名</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * fs.readlink(path, callback)</span></span><br><span class="line"><span class="comment"> * @params path 符号链接路径以及文件名</span></span><br><span class="line"><span class="comment"> * callback @params err 错误对象</span></span><br><span class="line"><span class="comment"> * callback @params linkString [String] 另一个文件的目录、文件名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">fs.symlink(<span class="string">'./srclink.txt'</span>, <span class="string">'./symlink.txt'</span>, err =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'创建符号链接symlink.txt成功'</span>);</span><br><span class="line">    fs.readlink(<span class="string">'./symlink.txt'</span>, (err, linkString) =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</span><br><span class="line">        <span class="built_in">console</span>.log(linkString);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Path模块"><a href="#Path模块" class="headerlink" title="Path模块"></a>Path模块</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * const path = require('path')</span></span><br><span class="line"><span class="comment"> * @property path.delimiter 提供平台特定的路径分隔符 win;posix:</span></span><br><span class="line"><span class="comment"> * @property path.posix</span></span><br><span class="line"><span class="comment"> * @property path.sep</span></span><br><span class="line"><span class="comment"> * @property path.win32</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @method   path.isabsolute(path) 判定 path 是否为一个绝对路径</span></span><br><span class="line"><span class="comment"> * @method   path.basename(path,[ext]) 返回path的最后一部分，ext为后缀</span></span><br><span class="line"><span class="comment"> * @method   path.dirname(path) 返回path的目录名</span></span><br><span class="line"><span class="comment"> * @method   path.extname(path) 返回path的拓展名</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @method   path.format(pathObject) 从对象返回路径字符串</span></span><br><span class="line"><span class="comment"> * @method   path.parse(path) 根据path返回pathObject对象</span></span><br><span class="line"><span class="comment"> * * * * *   pathObject = &#123;dir,root,base,name,ext&#125;</span></span><br><span class="line"><span class="comment"> * * * * *   优先级 dir &gt; root base &gt; name &amp; ext</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @method   path.normalize(path) 规范化path 解析'..''.',路径分隔符去重</span></span><br><span class="line"><span class="comment"> * @method   path.join([...path]) 使用平台特定的分隔符把全部给定的 path片段连接到一起，并规范化生成的路径</span></span><br><span class="line"><span class="comment"> * @method   path.relative(fromPath,toPath) 返回从fromPath到toPath的相对路径</span></span><br><span class="line"><span class="comment"> * @method   path.resolve([...path]) 全部给定的path解析为一个绝对路径</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// /foo/bar/baz/asdf</span></span><br><span class="line"><span class="keyword">let</span> path_normalize = path.normalize(<span class="string">'/foo/bar//baz/asdf/quux/..'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// /foo/bar/baz/asdf</span></span><br><span class="line"><span class="keyword">let</span> path_join = path.join(<span class="string">'/foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz/asdf'</span>, <span class="string">'quux'</span>, <span class="string">'..'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// /bar/img/imgage.png</span></span><br><span class="line"><span class="keyword">let</span> path_resolve = path.resolve(<span class="string">'/foo'</span>, <span class="string">'bar'</span>, <span class="string">'/bar/img'</span>, <span class="string">'../img/imgage.png'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ../../impl/bbb</span></span><br><span class="line"><span class="keyword">let</span> path_relative = path.relative(<span class="string">'/data/orandea/test/aaa'</span>, <span class="string">'/data/orandea/impl/bbb'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// /data/orandea/test/aaa</span></span><br><span class="line"><span class="keyword">let</span> path_dirname = path.dirname(<span class="string">'/data/orandea/test/aaa/img.gif'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  img.gif</span></span><br><span class="line"><span class="keyword">let</span> path_basename = path.basename(<span class="string">'/data/orandea/test/aaa/img.gif'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  .gif</span></span><br><span class="line"><span class="keyword">let</span> path_extname = path.extname(<span class="string">'/data/orandea/test/aaa/img.gif'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123; </span></span><br><span class="line"><span class="comment">//  root: '/',</span></span><br><span class="line"><span class="comment">//  dir: '/data/orandea/test/aaa',</span></span><br><span class="line"><span class="comment">//  base: 'img.gif',</span></span><br><span class="line"><span class="comment">//  ext: '.gif',</span></span><br><span class="line"><span class="comment">//  name: 'img' </span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">let</span> path_parse = path.parse(<span class="string">'/data/orandea/test/aaa/img.gif'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// /data/orandea/test/aaa/img.gif</span></span><br><span class="line"><span class="keyword">let</span> path_format = path.format(&#123;</span><br><span class="line">    root: <span class="string">'/'</span>,</span><br><span class="line">    dir: <span class="string">'/data/orandea/test/aaa'</span>,</span><br><span class="line">    base: <span class="string">'img.gif'</span>,</span><br><span class="line">    ext: <span class="string">'.gif'</span>,</span><br><span class="line">    name: <span class="string">'img'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>原创内容，欢迎交流转载请注明出处</p>
</blockquote>
</div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>theo</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="/posts/7b756efa/">https://joacycode.github.io/posts/7b756efa/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>theoCheung@China</li></ul></div><br><div class="tags"><a href="/tags/fs/">fs</a><a href="/tags/path/">path</a></div><div class="post-nav"><a class="pre" href="/posts/e41d3209/">node笔记整理之HTTP模块</a><a class="next" href="/posts/64d676f8/">js的this指向实践问题记录</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget widget-info"><div class="widget-info"><a style="text-align:center"><img class="widget-info-photo" src="https://aszero.oss-cn-shanghai.aliyuncs.com/imgs/fangao_495x606.jpg" style="width:80px;height:80px;border-radius: 100%;"></a><p class="myname">SioCheung</p><p class="slogan">Zero to Hero</p></div></div><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/a0e43f83/">DSL介绍和使用</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/15ddfa03/">你不知道的AST</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/97b701ae/">你不知道的babel</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e87e7952/">那一年前端招人的部分笔试题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/6b76c6f6/">shell编程来实现一些自动化-基础篇</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e7485c24/">常见模块化规范研究记录</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7b16fe01/">你不知道的rollup</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ad3abf2b/">浏览器标签之间的通信</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/30ba4d06/">你不知道的yarn</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/5ece973c/">我对于同步异步和阻塞非阻塞理解</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/categories/">categories</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/dotjs/">dotjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/h5/">h5</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/shell/">shell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tool/">tool</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ts/">ts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack/">webpack</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows/">windows</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/joacycode" title="github.com/joacycode" target="_blank">github.com/joacycode</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2022 <a href="/." rel="nofollow">SioCheung.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>