<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="打怪升级，游戏人生"><title>浅析linux chmod命令 | SioCheung</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = 'https://hm.baidu.com/hm.js?' + '05229ec683dcdbf3f2336800f1e4a337';
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
  </script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">浅析linux chmod命令</h1><a id="logo" href="/."><span class="defualt">Sio</span><span class="vi-color">Cheung</span></a><p class="description">君子求诸己</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">浅析linux chmod命令</h1><div class="post-meta">Dec 13, 2016<span> | </span><span class="category"><a href="/categories/js/">js</a></span></div><div class="post-content"><p>最近遇到一同事问我怎么快速的给文件夹加密，我寻思着这货又收集什么见不得人的机密了，给文件夹或者文件加密的方式有很多，要钱的不要钱的就说你想要什么样的吧。得，整了半天给我来句只要别人没权限打开就成，那这不好办么，直接设个权限不就完事了么，暂时糊弄糊弄一些生瓜蛋子做到打不开就死心还是可以的。最近正好遇到一些涉及到权限问题的事，就在这捋一捋，认识认识新词。<br>linux有个命令叫<code>chmod</code>，就是更改权限的作用。<br><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod [-cfvR] [--help] [--version]  mode  file...</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p><strong>说明</strong> :<br>Linux/Unix 的档案存取权限用户群体分为三级 : <code>拥有者</code>、<code>群组</code>、<code>其他</code>。利用 chmod 可以控制档案如何被他人所存取。<br>mode : 权限设定字串，让你看写啊删啊执行啊都在这设置<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">ugoa...</span>][<span class="symbol">[+-=</span>][<span class="string">rwxX</span>]...][,...]</span><br></pre></td></tr></table></figure></p>
<p>细细表来上面都是些什么东东：</p>
<blockquote>
<p>u:表示该档案的拥有者<br>g: 表示与该档案的拥有者属于同一个群体(group)者<br>o :表示其他以外的人<br>a: 表示这三者皆是<br>+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。<br>r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该档案是个子目录或者该档案已经被设定过为可执行。<br>-c : 若该档案权限确实已经更改，才显示其更改动作<br>-f : 若该档案权限无法被更改也不要显示错误讯息<br>-v : 显示权限变更的详细资料<br>-R : 对目前目录下的所有档案与子目录进行相同的权限变更(即以递回的方式逐个变更)<br>–help : 显示辅助说明<br>–version : 显示版本</p>
</blockquote>
<p><strong>范例</strong> :<br>将老同事的 xx.avi 设为所有人皆可读取（不厚道的笑了）<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chmod</span> <span class="selector-tag">ugo</span>+<span class="selector-tag">r</span> <span class="selector-tag">xx</span><span class="selector-class">.avi</span></span><br></pre></td></tr></table></figure></p>
<p>另一种写法</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chmod</span> <span class="selector-tag">a</span>+<span class="selector-tag">r</span> <span class="selector-tag">xx</span><span class="selector-class">.avi</span></span><br></pre></td></tr></table></figure>
<p>现在将老同事的 xx.avi 与 some.jpg 权限设为他与其所属同一个群体者可写入，比如做一些文本编辑图片处理啊什么的，但其他以外的人则不可写入，但是他们可以读取的到。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chmod</span> <span class="selector-tag">ug</span>+<span class="selector-tag">w</span>,<span class="selector-tag">o-w</span> <span class="selector-tag">file1</span><span class="selector-class">.txt</span> <span class="selector-tag">file2</span><span class="selector-class">.txt</span></span><br></pre></td></tr></table></figure>
<p>将 ex1.py 设定为只有该档案拥有者可以执行</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chmod</span> <span class="selector-tag">u</span>+<span class="selector-tag">x</span> <span class="selector-tag">ex1</span><span class="selector-class">.py</span></span><br></pre></td></tr></table></figure>
<p>将目前目录下的所有档案与子目录皆设为任何人可读取</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R <span class="keyword">a</span>+r *</span><br></pre></td></tr></table></figure>
<p>此外chmod也可以用数字来表示权限如 <code>chmod 777 file</code> ，这是更简便更有逼格的写法了，懂得人自然会心一笑，不懂得人一脸懵X。<br>语法为：<code>chmod ugo xx.file</code><br>其中<code>u</code>,<code>g</code>,<code>o</code>各为一个数字，分别表示User、Group、及Other的权限。</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  u  -   g  -   o</span><br><span class="line">r<span class="number">4</span>w<span class="number">2</span><span class="keyword">x</span><span class="number">1</span>-r<span class="number">4</span>w<span class="number">2</span><span class="keyword">x</span><span class="number">1</span>-r<span class="number">4</span>w<span class="number">2</span><span class="keyword">x</span><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>心法都在这了，领走闭关练练</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r=<span class="number">4</span> (二进制 <span class="number">100</span> )，w=<span class="number">2</span> (二进制 <span class="number">010</span> )，x=<span class="number">1</span> (二进制 <span class="number">001</span> )</span><br><span class="line">若要rwx属性则<span class="number">4</span>+<span class="number">2</span>+<span class="number">1</span>=<span class="number">7</span>；</span><br><span class="line">若要rw-属性则<span class="number">4</span>+<span class="number">2</span>=<span class="number">6</span>；</span><br><span class="line">若要r-x属性则<span class="number">4</span>+<span class="number">1</span>=<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>给个栗子：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="keyword">a</span>=rwx <span class="built_in">file</span></span><br><span class="line">等同于</span><br><span class="line">chmod <span class="number">777</span> <span class="built_in">file</span></span><br></pre></td></tr></table></figure>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod ug=rwx,o=x <span class="built_in">file</span></span><br><span class="line">等同于</span><br><span class="line">chmod <span class="number">771</span> <span class="built_in">file</span></span><br></pre></td></tr></table></figure>
<p>若用<code>chown 4755 filename</code>可使此程式具有root的权限<br>指令名称 : <code>chown</code><br>使用权限 : <code>root</code></p>
<p>使用方式 </p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown [-cfhvR] [--help] [--version] user[:group] file...</span><br></pre></td></tr></table></figure>
<p><strong>说明</strong> : Linux/Unix 是多人多工作业系统，所有的档案皆有拥有者。利用 chown 可以将档案的拥有者加以改变。一般来说，这个指令只有是由系统管理者(root)所使用，一般使用者没有权限可以改变别人的档案拥有者，也没有权限可以自己的档案拥有者改设为别人。只有系统管理者(root)才有这样的权限。</p>
<p><code>user :</code> 新的档案拥有者的使用者 IDgroup :<br>新的档案拥有者的使用者群体(group)-c :<br>若该档案拥有者确实已经更改，才显示其更改动作-f :<br>若该档案拥有者无法被更改也不要显示错误讯息-h :<br>只对于连结(link)进行变更，而非该 link 真正指向的档案-v :<br>显示拥有者变更的详细资料-R :<br>对目前目录下的所有档案与子目录进行相同的拥有者变更(即以递回的方式逐个变更)<br><code>–help</code> : 显示辅助说明<br><code>–version</code> : 显示版本</p>
<p><strong>举个栗子</strong> :<br>将档案 file1.txt 的拥有者设为 users 群体的使用者 tommy :</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chown</span> <span class="selector-tag">tommy</span><span class="selector-pseudo">:users</span> <span class="selector-tag">file1</span><span class="selector-class">.txt</span></span><br></pre></td></tr></table></figure>
<p>将目前目录下的所有档案与子目录的拥有者皆设为 users 群体的使用者 dannie(ahaahaha) :</p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">chmod</span> <span class="literal">-</span><span class="comment">R</span> <span class="comment">dannie:users</span> <span class="comment">*</span></span><br><span class="line"><span class="comment"></span><span class="literal">-</span><span class="comment">rw</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span> <span class="comment">(600)</span> <span class="literal">-</span><span class="literal">-</span> <span class="comment">只有属主有读写权限。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span><span class="literal">-</span><span class="comment">rw</span> <span class="literal">-</span><span class="comment">r</span><span class="literal">-</span> <span class="literal">-</span><span class="comment">r</span><span class="literal">-</span><span class="literal">-</span> <span class="comment">(644)</span> <span class="literal">-</span><span class="literal">-</span> <span class="comment">只有属主有读写权限；而属组用户和其他用户只有读权限。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span><span class="literal">-</span><span class="comment">rwx</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span> <span class="literal">-</span><span class="literal">-</span><span class="literal">-</span> <span class="comment">(700)</span> <span class="literal">-</span><span class="literal">-</span> <span class="comment">只有属主有读、写、执行权限。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span><span class="literal">-</span><span class="comment">rwx</span> <span class="comment">r</span><span class="literal">-</span><span class="comment">x</span> <span class="comment">r</span><span class="literal">-</span><span class="comment">x</span> <span class="comment">(755)</span> <span class="literal">-</span><span class="literal">-</span> <span class="comment">属主有读、写、执行权限；而属组用户和其他用户只有读、执行权限。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span><span class="literal">-</span><span class="comment">rwx</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">x</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">x</span> <span class="comment">(711)</span> <span class="literal">-</span><span class="literal">-</span> <span class="comment">属主有读、写、执行权限；而属组用户和其他用户只有执行权限。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span><span class="literal">-</span><span class="comment">rw</span><span class="literal">-</span> <span class="comment">rw</span><span class="literal">-</span> <span class="comment">rw</span><span class="literal">-</span> <span class="comment">(666)</span> <span class="literal">-</span><span class="literal">-</span> <span class="comment">所有用户都有文件读、写权限。这种做法不可取。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span><span class="literal">-</span><span class="comment">rwx</span> <span class="comment">rwx</span> <span class="comment">rwx</span> <span class="comment">(777)</span> <span class="literal">-</span><span class="literal">-</span> <span class="comment">所有用户都有读、写、执行权限。更不可取的做法</span></span><br></pre></td></tr></table></figure>
<p>以下是对目录的两个普通设定:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">d</span> <span class="string">rwx</span> <span class="meta">---</span> <span class="meta">---</span> <span class="string">(700)</span>   <span class="string">只有属主可在目录中读、写。</span></span><br><span class="line"><span class="string">d</span> <span class="string">rwx</span> <span class="string">r-x</span> <span class="string">r-x</span> <span class="string">(755)</span>  <span class="string">所有用户可读该目录，但只有属主才能改变目录中的内容</span></span><br><span class="line"><span class="string">suid的代表数字是4，比如4755的结果是-rws</span> <span class="string">r-x</span> <span class="string">r-x</span></span><br><span class="line"><span class="string">sgid的代表数字是2，比如6755的结果是-rws</span> <span class="string">r-s</span> <span class="string">r-x</span></span><br><span class="line"><span class="string">sticky位代表数字是1，比如7755的结果是-rws</span> <span class="string">r-s</span> <span class="string">r-t</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>欢迎交流转载请注明出处</p>
</blockquote>
</div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>theo</li><li class="post-copyright-link"><strong>本文链接：</strong><a href="/posts/82735d62/">https://joacycode.github.io/posts/82735d62/</a></li><li class="post-copyright-license"><strong>版权声明：</strong>theoCheung@China</li></ul></div><br><div class="tags"><a href="/tags/js/">js</a><a href="/tags/chmod/">chmod</a><a href="/tags/linux/">linux</a></div><div class="post-nav"><a class="pre" href="/posts/262a55b/">H5项目常见问题及注意事项</a><a class="next" href="/posts/ad164cf7/">js基础核心梳理之Video</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget widget-info"><div class="widget-info"><a style="text-align:center"><img class="widget-info-photo" src="https://aszero.oss-cn-shanghai.aliyuncs.com/imgs/fangao_495x606.jpg" style="width:80px;height:80px;border-radius: 100%;"></a><p class="myname">SioCheung</p><p class="slogan">Zero to Hero</p></div></div><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/posts/a0e43f83/">DSL介绍和使用</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/15ddfa03/">你不知道的AST</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/97b701ae/">你不知道的babel</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e87e7952/">那一年前端招人的部分笔试题</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/6b76c6f6/">shell编程来实现一些自动化-基础篇</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/e7485c24/">常见模块化规范研究记录</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/7b16fe01/">你不知道的rollup</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/ad3abf2b/">浏览器标签之间的通信</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/30ba4d06/">你不知道的yarn</a></li><li class="post-list-item"><a class="post-list-link" href="/posts/5ece973c/">我对于同步异步和阻塞非阻塞理解</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/categories/">categories</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/dotjs/">dotjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/h5/">h5</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/shell/">shell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tool/">tool</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ts/">ts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/webpack/">webpack</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows/">windows</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/joacycode" title="github.com/joacycode" target="_blank">github.com/joacycode</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">SioCheung.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>